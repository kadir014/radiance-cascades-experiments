/*
    Radiance Cascades Experiments
    https://github.com/kadir014/radiance-cascades-experiments
*/

/*
    Distance Field Shader
    ---------------------
    Generates a distance field from the texture generated by the JFA.
*/

#version 460

in vec2 v_uv;
out vec4 f_color;

uniform sampler2D s_jfa;


void main() {
    vec2 uv = v_uv;

    vec2 nearest_seed = texture(s_jfa, uv).xy;

    float dist = clamp(distance(uv, nearest_seed), 0.0, 1.0);

    f_color = vec4(vec3(dist), 1.0);
}